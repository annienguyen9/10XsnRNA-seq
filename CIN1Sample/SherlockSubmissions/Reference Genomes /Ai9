There are cases where the publicly available GTF and FASTA files will not contain information for some of the genes expressed in a given sample. 
A transgenic sample is a good example of when you would not expect a gene of interest to be in the reference. Here, I am adding the Ai9 tdTomato sequence
to the reference mouse genome, following the 10x tutorial: https://www.10xgenomics.com/support/software/cell-ranger/latest/tutorials/cr-tutorial-mr

1. Open up a new nano text editor file

2. Acquire the Ai9 tdTomato sequence
Andrea used https://www-ncbi-nlm-nih-gov.laneproxy.stanford.edu/nuccore/55420622 (GenBank: AY678269.1), but note that Ai75 signal will be the future nuclear reporter

FASTA INFO:
>AY678269.1 Synthetic construct tandem-dimer red fluorescent protein gene, complete cds
ATGGTGAGCAAGGGCGAGGAGGTCATCAAAGAGTTCATGCGCTTCAAGGTGCGCATGGAGGGCTCCATGA
ACGGCCACGAGTTCGAGATCGAGGGCGAGGGCGAGGGCCGCCCCTACGAGGGCACCCAGACCGCCAAGCT
GAAGGTGACCAAGGGCGGCCCCCTGCCCTTCGCCTGGGACATCCTGTCCCCCCAGTTCATGTACGGCTCC
AAGGCGTACGTGAAGCACCCCGCCGACATCCCCGATTACAAGAAGCTGTCCTTCCCCGAGGGCTTCAAGT
GGGAGCGCGTGATGAACTTCGAGGACGGCGGTCTGGTGACCGTGACCCAGGACTCCTCCCTGCAGGACGG
CACGCTGATCTACAAGGTGAAGATGCGCGGCACCAACTTCCCCCCCGACGGCCCCGTAATGCAGAAGAAG
ACCATGGGCTGGGAGGCCTCCACCGAGCGCCTGTACCCCCGCGACGGCGTGCTGAAGGGCGAGATCCACC
AGGCCCTGAAGCTGAAGGACGGCGGCCACTACCTGGTGGAGTTCAAGACCATCTACATGGCCAAGAAGCC
CGTGCAACTGCCCGGCTACTACTACGTGGACACCAAGCTGGACATCACCTCCCACAACGAGGACTACACC
ATCGTGGAACAGTACGAGCGCTCCGAGGGCCGCCACCACCTGTTCCTGGGGCATGGCACCGGCAGCACCG
GCAGCGGCAGCTCCGGCACCGCCTCCTCCGAGGACAACAACATGGCCGTCATCAAAGAGTTCATGCGCTT
CAAGGTGCGCATGGAGGGCTCCATGAACGGCCACGAGTTCGAGATCGAGGGCGAGGGCGAGGGCCGCCCC
TACGAGGGCACCCAGACCGCCAAGCTGAAGGTGACCAAGGGCGGCCCCCTGCCCTTCGCCTGGGACATCC
TGTCCCCCCAGTTCATGTACGGCTCCAAGGCGTACGTGAAGCACCCCGCCGACATCCCCGATTACAAGAA
GCTGTCCTTCCCCGAGGGCTTCAAGTGGGAGCGCGTGATGAACTTCGAGGACGGCGGTCTGGTGACCGTG
ACCCAGGACTCCTCCCTGCAGGACGGCACGCTGATCTACAAGGTGAAGATGCGCGGCACCAACTTCCCCC
CCGACGGCCCCGTAATGCAGAAGAAGACCATGGGCTGGGAGGCCTCCACCGAGCGCCTGTACCCCCGCGA
CGGCGTGCTGAAGGGCGAGATCCACCAGGCCCTGAAGCTGAAGGACGGCGGCCACTACCTGGTGGAGTTC
AAGACCATCTACATGGCCAAGAAGCCCGTGCAACTGCCCGGCTACTACTACGTGGACACCAAGCTGGACA
TCACCTCCCACAACGAGGACTACACCATCGTGGAACAGTACGAGCGCTCCGAGGGCCGCCACCACCTGTT
CCTGTACGGCATGGACGAGCTGTACAAGTAA

2. Save this sequence as an original FASTA file: Ai9_tdT_orig.fa

3. Edit this file so that the header only reads "Ai9"
3a. Can do this manually in the nano file or
3b. Follow 10x directions: "There are special characters such as spaces in the header (all text after the >) of this FASTA sequence. 
These can be problematic for downstream applications. It can be helpful to change the header to be more informative and also to remove these characters. 
The following command opens the file and uses the stream editor (sed) function to search for a pattern (the original header), replace it with new text ("GFP"), 
then directs the output to a new output file, GFP.fa."
Synthetic construct tandem-dimer red fluorescent protein gene
cat GFP_orig.fa | sed s/L29345\.\1\ Aequorea\ victoria\ green\-fluorescent\ protein\ \(GFP\)\ mRNA\,\ complete\ cds/GFP/ > GFP.fa
for me: cat Ai9_tdT_orig.fa | sed s/AY678269\.\1\ Synthetic\ construct\ tandem\-dimer\ red\ fluorescent\ protein\ gene\,\ complete\ cds/Ai9/ > Ai9_tdT.fa

4. Find the number of bases in your sequence: cat GFP.fa | grep -v "^>" | tr -d "\n" | wc -c
Use grep -v "^>" to search all lines that don't start with the > character, 
which removes line returns with tr -d "\n" so they aren't counted, and then counts the number of characters with the command wc -c. 
Each command is sent to the next step with the pipe | command.
Ai9 has 1431 bases

5. Make a custom GTF for Ai9 with this command: echo -e 'Ai9\tunknown\texon\t1\t1431\t.\t+\t.\tgene_id "Ai9"; transcript_id "Ai9"; gene_name "Ai9"; gene_biotype "protein_coding";' > Ai9.gtf
Now, make a custom GTF for GFP with the following command. This command uses the function echo -e (prints everything in quotes; 
the -e enables interpretation of the backslash, e.g. \t). Use \t to insert the tabs that separate the 9 columns of information required for GTF.

The Ai9.GTF file should look something like this: 
GFP     unknown exon    1       922     .       +       .       gene_id "GFP"; transcript_id "GFP"; gene_name "GFP"; gene_biotype "protein_coding";



  
  
